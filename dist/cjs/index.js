var v=Object.defineProperty;var j=l=>v(l,"__esModule",{value:!0});var E=(l,r)=>{j(l);for(var o in r)v(l,o,{get:r[o],enumerable:!0})};E(exports,{default:()=>S});var y=typeof global!="undefined"&&{}.toString.call(global)==="[object global]";y||(window.process={env:{TEST:!1}});var h=process.env.TEST?!1:y;function T(l,...r){let o="",n=0,m=r.length;for(;n<m;){let e=l[n],t=r[n];if(h)o+=e+t;else{let a=/on\w+="$/.test(e),_=typeof t=="function",i=a?e.replace(/on(\w+)="$/,`data-_on_="" data-_fn_${n}="${t}" data-_ev_${n}="$1" data-_arg_${n}="`):e,w=_?a?`${n}`:t():t instanceof Element?`<span data-_replace_='${n}'></span>`:t;o+=i+w}n++}if(o+=l[l.length-1],h)return o.replace(/\son\w+=".*?"/g,"").replace(/\skey=".*?"/g,"").replace(/>[\r\n ]+</g,"><").replace(/(<.*?>)|\s+/g,(e,t)=>t||" ").trim();let g=document.createElement("template");g.innerHTML=o;let s=g.content,d=0,f=[...s.querySelectorAll("[data-_replace_]")],A=f.length;for(;d<A;){let e=f[d];e.parentNode.replaceChild(r[e.getAttribute("data-_replace_")],e),d++}let c=0,p=[...s.querySelectorAll("[data-_on_]")],$=p.length;for(;c<$;){let e=p[c];Object.keys(p[c].dataset).forEach(t=>{if(/^_ev_/.test(t)){let a=t.replace("_ev_",""),_=e.getAttribute(`data-_ev_${a}`),i=r[e.getAttribute(`data-_arg_${a}`)];e.__key__=e.getAttribute("key"),e.__handler__=e.__handler__||{},e.__handler__[_]=i,e.addEventListener(_,i),e.removeAttribute("data-_on_"),e.removeAttribute(`data-_fn_${a}`),e.removeAttribute(`data-_arg_${a}`),e.removeAttribute(`data-_ev_${a}`)}}),e.removeAttribute("key"),c++}let u=0,b=[...s.querySelectorAll("[key]")],k=b.length;for(;u<k;){let e=b[u];e.__key__=e.getAttribute("key"),e.removeAttribute("key"),u++}return s.children[0]}var S=T;
